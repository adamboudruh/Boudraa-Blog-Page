<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Adam's Blog</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-QWTKZyjpPEjISv5WaRU9OFeRpok6YctnYmDr5pNlyT2bRjXh0JMhjY6hW+ALEwIH" crossorigin="anonymous">
    <link rel="stylesheet" href="/css/style.css" />
    <link rel="icon" type="image/x-icon" href="/images/icon.png">
  </head>

  <body>
    <header>
      <div class="text-white container text-center">
        <h1 class="my-0 mt-1 pt-1">Adam's Blog</h1>
        {{#if logged_in}}
          {{#if idle}}
            <h6>Current User: {{user_data.name}} <span style="color: red; font-weight: bold;">IDLE</span></h6>
          {{else}}
            <h6>Current User: {{user_data.name}}</h6>

          {{/if}}
        
        {{/if}}
        <nav class="pt-1 pb-3">
          <a class="p-2 m-2" href="/">Home</a>
          <a class="p-2 m-2" href="/dashboard">Dashboard</a>
          {{#if logged_in}}
          <a id="logout" class="p-2 m-2 logout-link" href="/">Logout</a>
          {{else}}
          <a class="p-2 m-2" href="/login">Login</a>
          {{/if}}
        </nav>
    </header>
      </div>
      
    <main>

      <div id="reloginModal" class="modal">
        <div class="modal-content">
          <span class="close">&times;</span>
          <p>Your session has expired. Please <a href="/login">log in</a> again.</p>
        </div>
      </div>

      <div id="deleteModal" class="modal">
        <div class="modal-content">
          <p>Are you sure you want to delete this comment?</p>
          <div>
              <button id="confirmDel">Yes, delete it</button>
              <button id="confirmCancel">No, keep it</button>
          </div>
        </div>
      </div>

      <div id="confirmModal" class="modal">
        <div class="modal-content">
          <p>Are you sure you want to delete this post?</p>
          <p>All of its comments will be deleted as well.</p>
          <div>
              <button id="confirmYes">Yes, delete it</button>
              <button id="confirmNo">No, keep it</button>
          </div>
        </div>
      </div>

      {{{body}}}
    </main>



    <footer class="bg-transparent text-center py-3">
      <div class="">
        Â© 2024 Copyright:
        <a class="text-body" href="/">Adam Boudraa</a>
      </div>
    </footer>
    <script src="/js/idle.js" type="module"></script>
    <script src="/js/modal.js" type="module"></script>


    {{#if logged_in}}
      <script src="/js/logout.js"></script>
    {{/if}}

  </body>

</html>